{% extends "base.html" %}

{% block title %}–ö–æ—Ä–∑–∏–Ω–∞{% endblock %}

{% block content %}
<div class="p-3">
    <div>
        {% if cart_items | length != 0 %}
            <h1>–ö–æ—Ä–∑–∏–Ω–∞</h1>
            <p>–∑–¥–µ—Å—å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É</p>

            {% for cart_item in cart_items %}
                <div class="card mb-3" style="max-width: 540px;">
                  <div class="row g-0">
                    <div class="col-md-4">
                      <img src="{{ cart_item['image_url'] }}" class="img-fluid rounded-start" alt="...">
                    </div>
                    <div class="col-md-8">
                      <div class="card-body">
                        <h5 class="card-title">{{ cart_item['title'] }}</h5>
                        <p class="card-text">{{ cart_item['price'] * cart_item['count'] }} —Ä—É–±–ª–µ–π</p>
                        <p class="card-text">
                            <div class="d-flex gap-3 align-items-center">
                                <form method="post" action="{{ url_for('decrement_cart_item', id=cart_item['id']) }}">
                                    <button class="btn btn-secondary" type="submit" {% if cart_item['count'] == 1 %}disabled{% endif %}>-</button>
                                </form>
                                <p class="card-text mb-0">{{ cart_item['count'] }}</p>
                                <form method="post" action="{{ url_for('increment_cart_item', id=cart_item['id']) }}">
                                    <button class="btn btn-secondary" type="submit">+</button>
                                </form>
                            </div>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
            {% endfor %}
        {% else %}
            <h1>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ üòû</h1>
            <p>–í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–æ–∏—Å–∫–æ–º, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ. –ï—Å–ª–∏ –≤ –ö–æ—Ä–∑–∏–Ω–µ –±—ã–ª–∏ —Ç–æ–≤–∞—Ä—ã, –≤–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫</p>
        {% endif %}
    </div>
</div>
{% endblock %}